!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){window.onload=()=>{function t(){return JSON.parse(localStorage.getItem("state"))}function e(){const t=document.getElementById("todo-list"),e=document.getElementById("completed-list");t.innerHTML="",e.innerHTML=""}function n(){e();const{items:n,sortOrder:o}=t();(function(t,e,n){switch(n){case"descending":return t.sort((t,n)=>t[e]>n[e]?1:t[e]<n[e]?-1:0);default:return t.sort((t,n)=>t[e]>n[e]?-1:t[e]<n[e]?1:0)}})(n,"timestamp",o).forEach(({title:t,description:e,id:n,state:o,timestamp:r})=>{!function(t,e){const n=document.getElementById("todo-list"),o=document.getElementById("completed-list");t.addEventListener("click",i),"done"===e?o.insertAdjacentElement("afterbegin",t):n.insertAdjacentElement("afterbegin",t)}(function(t,e,n,o,i){const r=new Date(i).toDateString(),s=document.createElement("LI");s.classList.add(`list-item--${o}`),s.id=n;let l="";return l+=`<h3 class="list-item__heading">${t}</h3>`,l+=e?`<p class="list-item__description">${e}</p>`:"",l+='<div class="list-item__bottom">',l+=`<time class="list-item__timestamp" datetime="${r}">Created ${r}</time>`,l+="done"===o?'<button class="button--red" type="button">Delete</button>':"",l+="</div>",s.innerHTML=l,s}(t,e,n,o,r),o)})}function o(e,o="active"){const i=t();i.items=i.items.map(t=>(t.id===parseInt(e,10)&&(t.state=o),t)),localStorage.setItem("state",JSON.stringify(i)),n()}function i({target:e,currentTarget:i}){if(e.classList.contains("button--red"))!function(e){const o=t();o.items=o.items.filter(t=>t.id!==parseInt(e.id,10)),localStorage.setItem("state",JSON.stringify(o)),n()}(i);else{const{id:e}=i;o(e,"active"===function(e){const{items:n}=t();return n.find(t=>t.id===parseInt(e,10)).state}(e)?"done":"active")}}window.clearAll=function(){const n=t();n.items=[],localStorage.setItem("state",JSON.stringify(n)),e()},function(){const e=document.getElementById("todo-presentation"),n=document.getElementById("todo-creation"),o=t()?t().sortOrder:void 0;n.innerHTML='\n    <form id="create-todo" autocomplete="off">\n        <fieldset>\n          <legend>Create new list item</legend>\n          <label for="title">Title</label>\n          <input id="title" type="text" name="title" required />\n          <label for="description">Description</label>\n          <input id="description" type="text" name="description" />\n          <button class="button--green" type="submit" form="create-todo">Add item</button>\n        </fieldset>\n      </form>',e.innerHTML=`\n    <div class="filter-menu">\n      <div class="filter">\n        <label class="filter__label" for="sort-order">Sort order:</label> \n        <select class="filter__dropdown" id="sort-order">\n        ${"ascending"===o?'<option value="ascending">Ascending</option>\n      <option value="descending">Descending</option>':'<option value="descending">Descending</option>\n        <option value="ascending">Ascending</option>'}\n        </select>\n      </div>\n      <button class="button" type="button" onclick="clearAll();">Clear</button>\n    </div>\n    <ul class="todo-list" id="todo-list"></ul>\n    <ul class="todo-list" id="completed-list"></ul>`}(),localStorage.state?n():localStorage.setItem("state",JSON.stringify({items:[],sortOrder:"descending"})),document.getElementById("sort-order").onchange=e=>{!function({currentTarget:e}){const o=t();o.sortOrder=e.value,localStorage.setItem("state",JSON.stringify(o)),n()}(e)},document.getElementById("create-todo").onsubmit=e=>{const o=document.getElementById("title").value,i=document.getElementById("description").value;o&&(e.preventDefault(),function(e,o){const i=t(),{items:r}=i,s={id:r.length?r[r.length-1].id+1:0,title:e,description:o,state:"active",timestamp:Date.now()};r.push(s),localStorage.setItem("state",JSON.stringify(i)),n()}(o,i),function(){const t=document.querySelectorAll("INPUT");for(let e=0;e<t.length;e+=1)t[e].value=""}())}}}]);